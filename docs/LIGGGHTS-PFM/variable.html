

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>variable command &mdash; LIGGGHTS Academic 24.01
 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="LIGGGHTS Academic 24.01
 documentation" href="index.html"/>
        <link rel="up" title="Commands" href="commands.html"/>
        <link rel="next" title="velocity command" href="velocity.html"/>
        <link rel="prev" title="units command" href="units.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="Manual.html" class="icon icon-home"> LIGGGHTS Academic
        

        
        </a>

        
          
          
            <div class="version">
              24.01

            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">3. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_gran_models.html">4. Contact models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">5. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_accelerate.html">6. Accelerating LAMMPS performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">7. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="superquadric_simulations.html">8. How-to for superquadric particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_example.html">9. Example problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_perf.html">10. Performance &amp; scalability</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_tools.html">11. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">12. Modifying &amp; extending LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">13. Python interface to LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">14. Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_history.html">15. Future and history</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Index</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="commands.html">Commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="angle_coeff.html">angle_coeff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="angle_style.html">angle_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="atom_modify.html">atom_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="atom_style.html">atom_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="balance.html">balance command</a></li>
<li class="toctree-l2"><a class="reference internal" href="bond_coeff.html">bond_coeff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="bond_style.html">bond_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary.html">boundary command</a></li>
<li class="toctree-l2"><a class="reference internal" href="box.html">box command</a></li>
<li class="toctree-l2"><a class="reference internal" href="change_box.html">change_box command</a></li>
<li class="toctree-l2"><a class="reference internal" href="clear.html">clear command</a></li>
<li class="toctree-l2"><a class="reference internal" href="coarsegraining.html">coarsegraining command</a></li>
<li class="toctree-l2"><a class="reference internal" href="communicate.html">communicate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute.html">compute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="compute_modify.html">compute_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_atoms.html">create_atoms command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_box.html">create_box command</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_multisphere_clump.html">create_multisphere_clump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="delete_atoms.html">delete_atoms command</a></li>
<li class="toctree-l2"><a class="reference internal" href="delete_bonds.html">delete_bonds command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dielectric.html">dielectric command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dihedral_coeff.html">dihedral_coeff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dihedral_style.html">dihedral_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dimension.html">dimension command</a></li>
<li class="toctree-l2"><a class="reference internal" href="displace_atoms.html">displace_atoms command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html">dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-image-command"><span class="xref std std-doc">dump image</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-movie-command"><span class="xref std std-doc">dump movie</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump.html#dump-molfile-command"><span class="xref std std-doc">dump molfile</span> command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html">dump image command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_image.html#dump-movie-command">dump movie command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_modify.html">dump_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_molfile.html">dump molfile command</a></li>
<li class="toctree-l2"><a class="reference internal" href="dump_custom_vtk.html">dump custom/vtk command</a></li>
<li class="toctree-l2"><a class="reference internal" href="echo.html">echo command</a></li>
<li class="toctree-l2"><a class="reference internal" href="extract_surface.html">extract_surface command</a></li>
<li class="toctree-l2"><a class="reference internal" href="extrude_surface.html">extrude_surface command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix.html">fix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="fix_modify.html">fix_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="group.html">group command</a></li>
<li class="toctree-l2"><a class="reference internal" href="group2ndx.html">group2ndx command</a></li>
<li class="toctree-l2"><a class="reference internal" href="if.html">if command</a></li>
<li class="toctree-l2"><a class="reference internal" href="improper_coeff.html">improper_coeff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="improper_style.html">improper_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="include.html">include command</a></li>
<li class="toctree-l2"><a class="reference internal" href="jump.html">jump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="kspace_modify.html">kspace_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="kspace_style.html">kspace_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="label.html">label command</a></li>
<li class="toctree-l2"><a class="reference internal" href="lattice.html">lattice command</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">log command</a></li>
<li class="toctree-l2"><a class="reference internal" href="mass.html">mass command</a></li>
<li class="toctree-l2"><a class="reference internal" href="min_modify.html">min_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="min_style.html">min_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="minimize.html">minimize command</a></li>
<li class="toctree-l2"><a class="reference internal" href="modify_timing.html">modify_timing command</a></li>
<li class="toctree-l2"><a class="reference internal" href="neb.html">neb command</a></li>
<li class="toctree-l2"><a class="reference internal" href="neigh_modify.html">neigh_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="neighbor.html">neighbor command</a></li>
<li class="toctree-l2"><a class="reference internal" href="newton.html">newton command</a></li>
<li class="toctree-l2"><a class="reference internal" href="next.html">next command</a></li>
<li class="toctree-l2"><a class="reference internal" href="package.html">package command</a></li>
<li class="toctree-l2"><a class="reference internal" href="pair_coeff.html">pair_coeff command</a></li>
<li class="toctree-l2"><a class="reference internal" href="pair_modify.html">pair_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="pair_style.html">pair_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="pair_write.html">pair_write command</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition.html">partition command</a></li>
<li class="toctree-l2"><a class="reference internal" href="prd.html">prd command</a></li>
<li class="toctree-l2"><a class="reference internal" href="print.html">print command</a></li>
<li class="toctree-l2"><a class="reference internal" href="processors.html">processors command</a></li>
<li class="toctree-l2"><a class="reference internal" href="quit.html">quit command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_data.html">read_data command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_dump.html">read_dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_restart.html">read_restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="region.html">region command</a></li>
<li class="toctree-l2"><a class="reference internal" href="replicate.html">replicate command</a></li>
<li class="toctree-l2"><a class="reference internal" href="rerun.html">rerun command</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset_timestep.html">reset_timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="restart.html">restart command</a></li>
<li class="toctree-l2"><a class="reference internal" href="run.html">run command</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_style.html">run_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="set.html">set command</a></li>
<li class="toctree-l2"><a class="reference internal" href="shell.html">shell command</a></li>
<li class="toctree-l2"><a class="reference internal" href="special_bonds.html">special_bonds command</a></li>
<li class="toctree-l2"><a class="reference internal" href="suffix.html">suffix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="tad.html">tad command</a></li>
<li class="toctree-l2"><a class="reference internal" href="temper.html">temper command</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermo.html">thermo command</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermo_log.html">thermo_log command</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermo_modify.html">thermo_modify command</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermo_style.html">thermo_style command</a></li>
<li class="toctree-l2"><a class="reference internal" href="timestep.html">timestep command</a></li>
<li class="toctree-l2"><a class="reference internal" href="uncompute.html">uncompute command</a></li>
<li class="toctree-l2"><a class="reference internal" href="undump.html">undump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="unfix.html">unfix command</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">units command</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">variable command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#math-operators">Math Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#math-functions">Math Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-and-region-functions">Group and Region Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#special-functions">Special Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#atom-values-and-vectors">Atom Values and Vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compute-references">Compute References</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fix-references">Fix References</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variable-references">Variable References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#restrictions">Restrictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-commands">Related commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="velocity.html">velocity command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_data.html">write_data command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_dump.html">write_dump command</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_restart.html">write_restart command</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="computes.html">Computes</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixes.html">Fixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pairs.html">Pair Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="granular.html">Granular Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="bonds.html">Bond Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="angles.html">Angle Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dihedrals.html">Dihedral Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="impropers.html">Improper Styles</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="Manual.html">LIGGGHTS Academic</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="Manual.html">Docs</a> &raquo;</li>
      
          <li><a href="commands.html">Commands</a> &raquo;</li>
      
    <li>variable command</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="http://lammps.sandia.gov">Website</a>
            <a href="Section_commands.html#comm">Commands</a>
        
      </li>
  </ul>
  <hr/>
  
    <div class="rst-footer-buttons" style="margin-bottom: 1em" role="navigation" aria-label="footer navigation">
      
        <a href="velocity.html" class="btn btn-neutral float-right" title="velocity command" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="units.html" class="btn btn-neutral" title="units command" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="variable-command">
<span id="index-0"></span><h1>variable command<a class="headerlink" href="#variable-command" title="Permalink to this heading">¶</a></h1>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="n">name</span> <span class="n">style</span> <span class="n">args</span> <span class="o">...</span>
</pre></div>
</div>
<ul>
<li><p>name = name of variable to define</p></li>
<li><p>style = <em>delete</em> or <em>index</em> or <em>loop</em> or <em>world</em> or <em>universe</em> or <em>uloop</em> or <em>string</em> or <em>getenv</em> or <em>file</em> or <em>atomfile</em> or <em>equal</em> or <em>atom</em></p>
<pre class="literal-block"><em>delete</em> = no args
<em>index</em> args = one or more strings
<em>loop</em> args = N
  N = integer size of loop, loop from 1 to N inclusive
<em>loop</em> args = N pad
  N = integer size of loop, loop from 1 to N inclusive
  pad = all values will be same length, e.g. 001, 002, ..., 100
<em>loop</em> args = N1 N2
  N1,N2 = loop from N1 to N2 inclusive
<em>loop</em> args = N1 N2 pad
  N1,N2 = loop from N1 to N2 inclusive
  pad = all values will be same length, e.g. 050, 051, ..., 100
<em>world</em> args = one string for each partition of processors
<em>universe</em> args = one or more strings
<em>uloop</em> args = N
  N = integer size of loop
<em>uloop</em> args = N pad
  N = integer size of loop
  pad = all values will be same length, e.g. 001, 002, ..., 100
<em>string</em> arg = one string
<em>getenv</em> arg = one string
<em>file</em> arg = filename
<em>atomfile</em> arg = filename
<em>equal</em> or <em>atom</em> args = one formula containing numbers, thermo keywords, math operations, group functions, atom values and vectors, compute/fix/variable references
  numbers = 0.0, 100, -5.4, 2.8e-4, etc
  constants = PI
  thermo keywords = vol, ke, press, etc from <a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a>
  math operators = (), -x, x+y, x-y, x*y, x/y, x^y,
                   x==y, x!=y, x&lt;y, x&lt;=y, x&gt;y, x&gt;=y, x&amp;&amp;y, x||y, !x
  math functions = sqrt(x), cbrt(x), exp(x), ln(x), log(x), abs(x),
                   sin(x), cos(x), tan(x), asin(x), acos(x), atan(x), atan2(y,x),
                   random(x,y,z), normal(x,y,z), ceil(x), floor(x), round(x)
                   ramp(x,y), stagger(x,y), logfreq(x,y,z), stride(x,y,z), vdisplace(x,y), swiggle(x,y,z), cwiggle(x,y,z)
  group functions = count(group), mass(group), charge(group),
               xcm(group,dim), vcm(group,dim), fcm(group,dim),
               bound(group,dim), boundid(group,dim), idbound(group,dim), gyration(group),
               ke(group), angmom(group,dim), torque(group,dim),
                    inertia(group,dimdim), omega(group,dim)
  region functions = count(group,region), mass(group,region), charge(group,region),
               xcm(group,dim,region), vcm(group,dim,region), fcm(group,dim,region),
               bound(group,dim,region), boundid(group,dim,region), idbound(group,dim,region),
                    gyration(group,region), ke(group,reigon),
               angmom(group,dim,region), torque(group,dim,region),
               inertia(group,dimdim,region), omega(group,dim,region)
  special functions = sum(x), min(x), max(x), ave(x), trap(x), gmask(x), rmask(x), grmask(x,y), next(x)
  atom value = id[i], mass[i], type[i], x[i], y[i], z[i], vx[i], vy[i], vz[i], fx[i], fy[i], fz[i], radius[i], omegax[i], omegay[i], omegaz[i], tqx[i], tqy[i], tqz[i]
  atom vector = id, mass, type, x, y, z, vx, vy, vz, fx, fy, fz, radius, omegax, omegay, omegaz, tqx, tqy, tqz
  compute references = c_ID, c_ID[i], c_ID[i][j]
  fix references = f_ID, f_ID[i], f_ID[i][j]
  variable references = v_name, v_name[i]</pre>
</li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<pre class="literal-block">variable x index run1 run2 run3 run4 run5 run6 run7 run8
variable LoopVar loop $n
variable beta equal temp/3.0
variable b1 equal x[234]+0.5*vol
variable b1 equal &quot;x[234] + 0.5*vol&quot;
variable b equal xcm(mol1,x)/2.0
variable b equal c_myTemp
variable b atom x*y/vol
variable maxID equal idbound(all,idmax)
variable foo string myfile
variable f file values.txt
variable temp world 300.0 310.0 320.0 ${Tfinal}
variable x universe 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
variable x uloop 15 pad
variable x delete</pre>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This command assigns one or more strings to a variable name for
evaluation later in the input script or during a simulation.</p>
<p>Variables can thus be useful in several contexts.  A variable can be
defined and then referenced elsewhere in an input script to become
part of a new input command.  For variable styles that store multiple
strings, the <a class="reference internal" href="next.html"><span class="doc">next</span></a> command can be used to increment which
string is assigned to the variable.  Variables of style <em>equal</em> store
a formula which when evaluated produces a single numeric value which
can be output either directly (see the <a class="reference internal" href="print.html"><span class="doc">print</span></a>, <a class="reference internal" href="fix_print.html"><span class="doc">fix print</span></a>, and <a class="reference internal" href="run.html"><span class="doc">run every</span></a> commands) or as part
of thermodynamic output (see the <a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a>
command), or used as input to an averaging fix (see the <a class="reference internal" href="fix_ave_time.html"><span class="doc">fix ave/time</span></a> command).  Variables of style <em>atom</em> store
a formula which when evaluated produces one numeric value per atom
which can be output to a dump file (see the <a class="reference internal" href="dump.html"><span class="doc">dump custom</span></a>
command) or used as input to an averaging fix (see the <a class="reference internal" href="fix_ave_spatial.html"><span class="doc">fix ave/spatial</span></a> and <a class="reference internal" href="fix_ave_atom.html"><span class="doc">fix ave/atom</span></a>
commands).  Variables of style <em>atomfile</em> can be used anywhere in an
input script that atom-style variables are used; they get their
per-atom values from a file rather than from a formula.</p>
<p>In the discussion that follows, the “name” of the variable is the
arbitrary string that is the 1st argument in the variable command.
This name can only contain alphanumeric characters and underscores.
The “string” is one or more of the subsequent arguments.  The “string”
can be simple text as in the 1st example above, it can contain other
variables as in the 2nd example, or it can be a formula as in the 3rd
example.  The “value” is the numeric quantity resulting from
evaluation of the string.  Note that the same string can generate
different values when it is evaluated at different times during a
simulation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When an input script line is encountered that defines
a variable of style <em>equal</em> or <em>atom</em> that contains a formula, the
formula is NOT immediately evaluated and the result stored.  See the
discussion below about “Immediate Evaluation of Variables” if you want
to do this.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When a variable command is encountered in the input
script and the variable name has already been specified, the command
is ignored.  This means variables can NOT be re-defined in an input
script (with 2 exceptions, read further).  This is to allow an input
script to be processed multiple times without resetting the variables;
see the <a class="reference internal" href="jump.html"><span class="doc">jump</span></a> or <a class="reference internal" href="include.html"><span class="doc">include</span></a> commands.  It also
means that using the <a class="reference internal" href="Section_start.html#start-7"><span class="std std-ref">command-line switch</span></a>
-var will override a corresponding index variable setting in the input
script.</p>
</div>
<p>There are two exceptions to this rule.  First, variables of style
<em>string</em>, <em>getenv</em>, <em>equal</em> and <em>atom</em> ARE redefined each time the
command is encountered.  This allows these style of variables to be
redefined multiple times in an input script.  In a loop, this means
the formula associated with an <em>equal</em> or <em>atom</em> style variable can
change if it contains a substitution for another variable, e.g. $x.</p>
<p>Second, as described below, if a variable is iterated on to the end of
its list of strings via the <a class="reference internal" href="next.html"><span class="doc">next</span></a> command, it is removed
from the list of active variables, and is thus available to be
re-defined in a subsequent variable command.  The <em>delete</em> style does
the same thing.</p>
<hr class="docutils" />
<p><a class="reference internal" href="Section_commands.html#cmd-2"><span class="std std-ref">This section</span></a> of the manual explains how
occurrences of a variable name in an input script line are replaced by
the variable’s string.  The variable name can be referenced as $x if
the name “x” is a single character, or as ${LoopVar} if the name
“LoopVar” is one or more characters.</p>
<p>As described below, for variable styles <em>index</em>, <em>loop</em>, <em>file</em>,
<em>universe</em>, and <em>uloop</em>, which string is assigned to a variable can be
incremented via the <a class="reference internal" href="next.html"><span class="doc">next</span></a> command.  When there are no more
strings to assign, the variable is exhausted and a flag is set that
causes the next <a class="reference internal" href="jump.html"><span class="doc">jump</span></a> command encountered in the input
script to be skipped.  This enables the construction of simple loops
in the input script that are iterated over and then exited from.</p>
<p>As explained above, an exhausted variable can be re-used in an input
script.  The <em>delete</em> style also removes the variable, the same as if
it were exhausted, allowing it to be redefined later in the input
script or when the input script is looped over.  This can be useful
when breaking out of a loop via the <a class="reference internal" href="if.html"><span class="doc">if</span></a> and <a class="reference internal" href="jump.html"><span class="doc">jump</span></a>
commands before the variable would become exhausted.  For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">label</span>            <span class="n">loop</span>
<span class="n">variable</span>    <span class="n">a</span> <span class="n">loop</span> <span class="mi">5</span>
<span class="nb">print</span>            <span class="s2">&quot;A = $a&quot;</span>
<span class="k">if</span>       <span class="s2">&quot;$a &gt; 2&quot;</span> <span class="n">then</span> <span class="s2">&quot;jump in.script break&quot;</span>
<span class="nb">next</span>     <span class="n">a</span>
<span class="n">jump</span>     <span class="ow">in</span><span class="o">.</span><span class="n">script</span> <span class="n">loop</span>
<span class="n">label</span>            <span class="k">break</span>
<span class="n">variable</span>    <span class="n">a</span> <span class="n">delete</span>
</pre></div>
</div>
<hr class="docutils" />
<p>For the <em>index</em> style, one or more strings are specified.  Initially,
the 1st string is assigned to the variable.  Each time a
<a class="reference internal" href="next.html"><span class="doc">next</span></a> command is used with the variable name, the next
string is assigned.  All processors assign the same string to the
variable.</p>
<p><em>Index</em> style variables with a single string value can also be set by
using the command-line switch -var; see <a class="reference internal" href="Section_start.html#start-7"><span class="std std-ref">this section</span></a> for details.</p>
<p>The <em>loop</em> style is identical to the <em>index</em> style except that the
strings are the integers from 1 to N inclusive, if only one argument N
is specified.  This allows generation of a long list of runs
(e.g. 1000) without having to list N strings in the input script.
Initially, the string “1” is assigned to the variable.  Each time a
<a class="reference internal" href="next.html"><span class="doc">next</span></a> command is used with the variable name, the next
string (“2”, “3”, etc) is assigned.  All processors assign the same
string to the variable.  The <em>loop</em> style can also be specified with
two arguments N1 and N2.  In this case the loop runs from N1 to N2
inclusive, and the string N1 is initially assigned to the variable.
N1 &lt;= N2 and N2 &gt;= 0 is required.</p>
<p>For the <em>world</em> style, one or more strings are specified.  There must
be one string for each processor partition or “world”.  See <a class="reference internal" href="Section_start.html#start-7"><span class="std std-ref">this section</span></a> of the manual for information on
running LAMMPS with multiple partitions via the “-partition”
command-line switch.  This variable command assigns one string to each
world.  All processors in the world are assigned the same string.  The
next command cannot be used with <em>equal</em> style variables, since there
is only one value per world.  This style of variable is useful when
you wish to run different simulations on different partitions, or when
performing a parallel tempering simulation (see the
<a class="reference internal" href="temper.html"><span class="doc">temper</span></a> command), to assign different temperatures to
different partitions.</p>
<p>For the <em>universe</em> style, one or more strings are specified.  There
must be at least as many strings as there are processor partitions or
“worlds”.  See <a class="reference internal" href="Section_start.html#start-7"><span class="std std-ref">this page</span></a> for information
on running LAMMPS with multiple partitions via the “-partition”
command-line switch.  This variable command initially assigns one
string to each world.  When a <a class="reference internal" href="next.html"><span class="doc">next</span></a> command is encountered
using this variable, the first processor partition to encounter it, is
assigned the next available string.  This continues until all the
variable strings are consumed.  Thus, this command can be used to run
50 simulations on 8 processor partitions.  The simulations will be run
one after the other on whatever partition becomes available, until
they are all finished.  <em>Universe</em> style variables are incremented
using the files “tmp.lammps.variable” and “tmp.lammps.variable.lock”
which you will see in your directory during such a LAMMPS run.</p>
<p>The <em>uloop</em> style is identical to the <em>universe</em> style except that the
strings are the integers from 1 to N.  This allows generation of long
list of runs (e.g. 1000) without having to list N strings in the input
script.</p>
<p>For the <em>string</em> style, a single string is assigned to the variable.
The only difference between this and using the <em>index</em> style with a
single string is that a variable with <em>string</em> style can be redefined.
E.g. by another command later in the input script, or if the script is
read again in a loop.</p>
<p>For the <em>getenv</em> style, a single string is assigned to the variable
which should be the name of an environment variable.  When the
variable is evaluated, it returns the value of the environment
variable, or an empty string if it not defined.  This style of
variable can be used to adapt the behavior of LAMMPS input scripts via
environment variable settings, or to retrieve information that has
been previously stored with the <a class="reference internal" href="shell.html"><span class="doc">shell putenv</span></a> command.
Note that because environment variable settings are stored by the
operating systems, they persist beyond a <a class="reference internal" href="clear.html"><span class="doc">clear</span></a> command.</p>
<p>For the <em>file</em> style, a filename is provided which contains a list of
strings to assign to the variable, one per line.  The strings can be
numeric values if desired.  See the discussion of the next() function
below for equal-style variables, which will convert the string of a
file-style variable into a numeric value in a formula.</p>
<p>When a file-style variable is defined, the file is opened and the
string on the first line is read and stored with the variable.  This
means the variable can then be evaluated as many times as desired and
will return that string.  There are two ways to cause the next string
from the file to be read: use the <a class="reference internal" href="next.html"><span class="doc">next</span></a> command or the
next() function in an equal- or atom-style variable, as discussed
below.</p>
<p>The rules for formatting the file are as follows.  A comment character
“#” can be used anywhere on a line; text starting with the comment
character is stripped.  Blank lines are skipped.  The first “word” of
a non-blank line, delimited by white space, is the “string” assigned
to the variable.</p>
<p>For the <em>atomfile</em> style, a filename is provided which contains one or
more sets of values, to assign on a per-atom basis to the variable.
The format of the file is described below.</p>
<p>When an atomfile-style variable is defined, the file is opened and the
first set of per-atom values are read and stored with the variable.
This means the variable can then be evaluated as many times as desired
and will return those values.  There are two ways to cause the next
set of per-atom values from the file to be read: use the
<a class="reference internal" href="next.html"><span class="doc">next</span></a> command or the next() function in an atom-style
variable, as discussed below.</p>
<p>The rules for formatting the file are as follows.  Each time a set of
per-atom values is read, a non-blank line is searched for in the file.
A comment character “#” can be used anywhere on a line; text starting
with the comment character is stripped.  Blank lines are skipped.  The
first “word” of a non-blank line, delimited by white space, is read as
the count N of per-atom lines to immediately follow.  N can be be the
total number of atoms in the system, or only a subset.  The next N
lines have the following format</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ID</span> <span class="n">value</span>
</pre></div>
</div>
<p>where ID is an atom ID and value is the per-atom numeric value that
will be assigned to that atom.  IDs can be listed in any order.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Every time a set of per-atom lines is read, the value
for all atoms is first set to 0.0.  Thus values for atoms whose ID
does not appear in the set, will remain 0.0.</p>
</div>
<hr class="docutils" />
<p>For the <em>equal</em> and <em>atom</em> styles, a single string is specified which
represents a formula that will be evaluated afresh each time the
variable is used.  If you want spaces in the string, enclose it in
double quotes so the parser will treat it as a single argument.  For
<em>equal</em> style variables the formula computes a scalar quantity, which
becomes the value of the variable whenever it is evaluated.  For
<em>atom</em> style variables the formula computes one quantity for each
atom whenever it is evaluated.</p>
<p>Note that <em>equal</em> and <em>atom</em> variables can produce different values at
different stages of the input script or at different times during a
run.  For example, if an <em>equal</em> variable is used in a <a class="reference internal" href="fix_print.html"><span class="doc">fix print</span></a> command, different values could be printed each
timestep it was invoked.  If you want a variable to be evaluated
immediately, so that the result is stored by the variable instead of
the string, see the section below on “Immediate Evaluation of
Variables”.</p>
<p>The next command cannot be used with <em>equal</em> or <em>atom</em> style
variables, since there is only one string.</p>
<p>The formula for an <em>equal</em> or <em>atom</em> variable can contain a variety
of quantities.  The syntax for each kind of quantity is simple, but
multiple quantities can be nested and combined in various ways to
build up formulas of arbitrary complexity.  For example, this is a
valid (though strange) variable formula:</p>
<pre class="literal-block">variable x equal &quot;pe + c_MyTemp / vol^(1/3)&quot;</pre>
<p>Specifically, a formula can contain numbers, thermo keywords, math
operators, math functions, group functions, region functions, atom
values, atom vectors, compute references, fix references, and
references to other variables.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 94%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Number</p></td>
<td><p>0.2, 100, 1.0e20, -15.4, etc</p></td>
</tr>
<tr class="row-even"><td><p>Constant</p></td>
<td><p>PI</p></td>
</tr>
<tr class="row-odd"><td><p>Thermo keywords</p></td>
<td><p>vol, pe, ebond, etc</p></td>
</tr>
<tr class="row-even"><td><p>Math operators</p></td>
<td><p>(), -x, x+y, x-y, x*y, x/y, x^y, x==y, x!=y, x&lt;y, x&lt;=y, x&gt;y, x&gt;=y, x&amp;&amp;y, x||y, !x</p></td>
</tr>
<tr class="row-odd"><td><p>Math functions</p></td>
<td><p>sqrt(x), cbrt(x), exp(x), ln(x), log(x), abs(x),      sin(x), cos(x), tan(x), asin(x), acos(x), atan(x), atan2(y,x),      random(x,y,z), normal(x,y,z), ceil(x), floor(x), round(x), ramp(x,y),      stagger(x,y), logfreq(x,y,z), stride(x,y,z), vdisplace(x,y),      swiggle(x,y,z), cwiggle(x,y,z)</p></td>
</tr>
<tr class="row-even"><td><p>Group functions</p></td>
<td><p>count(ID), mass(ID), charge(ID), xcm(ID,dim),      vcm(ID,dim), fcm(ID,dim), bound(ID,dir), boundid(ID,dir),     idbound(ID,dir), gyration(ID), ke(ID), angmom(ID,dim), torque(ID,dim),      inertia(ID,dimdim), omega(ID,dim)</p></td>
</tr>
<tr class="row-odd"><td><p>Region functions</p></td>
<td><p>count(ID,IDR), mass(ID,IDR), charge(ID,IDR),      xcm(ID,dim,IDR), vcm(ID,dim,IDR), fcm(ID,dim,IDR),      bound(ID,dir,IDR), boundid(ID,dir,IDR), idbound(ID,dir,IDR), gyration(ID,IDR), ke(ID,IDR),      angmom(ID,dim,IDR), torque(ID,dim,IDR),      inertia(ID,dimdim,IDR), omega(ID,dim,IDR)</p></td>
</tr>
<tr class="row-even"><td><p>Special functions</p></td>
<td><p>sum(x), min(x), max(x), ave(x), trap(x), gmask(x), rmask(x),      grmask(x,y), next(x)</p></td>
</tr>
<tr class="row-odd"><td><p>Atom values</p></td>
<td><p>id[i], mass[i], type[i], x[i], y[i], z[i],              vx[i], vy[i], vz[i], fx[i], fy[i], fz[i]</p></td>
</tr>
<tr class="row-even"><td><p>Atom vectors</p></td>
<td><p>id, mass, type, x, y, z, vx, vy, vz, fx, fy, fz</p></td>
</tr>
<tr class="row-odd"><td><p>Compute references</p></td>
<td><p>c_ID, c_ID[i], c_ID[i][j]</p></td>
</tr>
<tr class="row-even"><td><p>Fix references</p></td>
<td><p>f_ID, f_ID[i], f_ID[i][j]</p></td>
</tr>
<tr class="row-odd"><td><p>Other variables</p></td>
<td><p>v_name, v_name[i]</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p>Most of the formula elements produce a scalar value.  A few produce a
per-atom vector of values.  These are the atom vectors, compute
references that represent a per-atom vector, fix references that
represent a per-atom vector, and variables that are atom-style
variables.  Math functions that operate on scalar values produce a
scalar value; math function that operate on per-atom vectors do so
element-by-element and produce a per-atom vector.</p>
<p>A formula for equal-style variables cannot use any formula element
that produces a per-atom vector.  A formula for an atom-style variable
can use formula elements that produce either a scalar value or a
per-atom vector.  Atom-style variables are evaluated by other commands
that define a <a class="reference internal" href="group.html"><span class="doc">group</span></a> on which they operate, e.g. a
<a class="reference internal" href="dump.html"><span class="doc">dump</span></a> or <a class="reference internal" href="compute.html"><span class="doc">compute</span></a> or <a class="reference internal" href="fix.html"><span class="doc">fix</span></a> command.
When they invoke the atom-style variable, only atoms in the group are
included in the formula evaluation.  The variable evaluates to 0.0 for
atoms not in the group.</p>
<p>The thermo keywords allowed in a formula are those defined by the
<a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style custom</span></a> command.  Thermo keywords that
require a <a class="reference internal" href="compute.html"><span class="doc">compute</span></a> to calculate their values such as
“temp” or “press”, use computes stored and invoked by the
<a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a> command.  This means that you can
only use those keywords in a variable if the style you are using with
the thermo_style command (and the thermo keywords associated with that
style) also define and use the needed compute.  Note that some thermo
keywords use a compute indirectly to calculate their value (e.g. the
enthalpy keyword uses temp, pe, and pressure).  If a variable is
evaluated directly in an input script (not during a run), then the
values accessed by the thermo keyword must be current.  See the
discussion below about “Variable Accuracy”.</p>
<hr class="docutils" />
<section id="math-operators">
<h3>Math Operators<a class="headerlink" href="#math-operators" title="Permalink to this heading">¶</a></h3>
<p>Math operators are written in the usual way, where the “x” and “y” in
the examples can themselves be arbitrarily complex formulas, as in the
examples above.  In this syntax, “x” and “y” can be scalar values or
per-atom vectors.  For example, “ke/natoms” is the division of two
scalars, where “vy+vz” is the element-by-element sum of two per-atom
vectors of y and z velocities.</p>
<p>Operators are evaluated left to right and have the usual C-style
precedence: unary minus and unary logical NOT operator “!” have the
highest precedence, exponentiation “^” is next; multiplication and
division are next; addition and subtraction are next; the 4 relational
operators “&lt;”, “&lt;=”, “&gt;”, and “&gt;=” are next; the two remaining
relational operators “==” and “!=” are next; then the logical AND
operator “&amp;&amp;”; and finally the logical OR operator “||” has the lowest
precedence.  Parenthesis can be used to group one or more portions of
a formula and/or enforce a different order of evaluation than what
would occur with the default precedence.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because a unary minus is higher precedence than
exponentiation, the formula “-2^2” will evaluate to 4, not -4.  This
convention is compatible with some programming languages, but not
others.  As mentioned, this behavior can be easily overridden with
parenthesis; the formula “-(2^2)” will evaluate to -4.</p>
</div>
<p>The 6 relational operators return either a 1.0 or 0.0 depending on
whether the relationship between x and y is TRUE or FALSE.  For
example the expression x&lt;10.0 in an atom-style variable formula will
return 1.0 for all atoms whose x-coordinate is less than 10.0, and 0.0
for the others.  The logical AND operator will return 1.0 if both its
arguments are non-zero, else it returns 0.0.  The logical OR operator
will return 1.0 if either of its arguments is non-zero, else it
returns 0.0.  The logical NOT operator returns 1.0 if its argument is
0.0, else it returns 0.0.</p>
<p>These relational and logical operators can be used as a masking or
selection operation in a formula.  For example, the number of atoms
whose properties satisfy one or more criteria could be calculated by
taking the returned per-atom vector of ones and zeroes and passing it
to the <a class="reference internal" href="compute_reduce.html"><span class="doc">compute reduce</span></a> command.</p>
</section>
<hr class="docutils" />
<section id="math-functions">
<h3>Math Functions<a class="headerlink" href="#math-functions" title="Permalink to this heading">¶</a></h3>
<p>Math functions are specified as keywords followed by one or more
parenthesized arguments “x”, “y”, “z”, each of which can themselves be
arbitrarily complex formulas.  In this syntax, the arguments can
represent scalar values or per-atom vectors.  In the latter case, the
math operation is performed on each element of the vector.  For
example, “sqrt(natoms)” is the sqrt() of a scalar, where “sqrt(y*z)”
yields a per-atom vector with each element being the sqrt() of the
product of one atom’s y and z coordinates.</p>
<p>Most of the math functions perform obvious operations.  The ln() is
the natural log; log() is the base 10 log.</p>
<p>The random(x,y,z) function takes 3 arguments: x = lo, y = hi, and z =
seed.  It generates a uniform random number between lo and hi.  The
normal(x,y,z) function also takes 3 arguments: x = mu, y = sigma, and
z = seed.  It generates a Gaussian variate centered on mu with
variance sigma^2.  In both cases the seed is used the first time the
internal random number generator is invoked, to initialize it.  For
equal-style variables, every processor uses the same seed so that they
each generate the same sequence of random numbers.  For atom-style
variables, a unique seed is created for each processor, based on the
specified seed.  This effectively generates a different random number
for each atom being looped over in the atom-style variable.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Internally, there is just one random number generator
for all equal-style variables and one for all atom-style variables.
If you define multiple variables (of each style) which use the
random() or normal() math functions, then the internal random number
generators will only be initialized once, which means only one of the
specified seeds will determine the sequence of generated random
numbers.</p>
</div>
<p>The ceil(), floor(), and round() functions are those in the C math
library.  Ceil() is the smallest integer not less than its argument.
Floor() if the largest integer not greater than its argument.  Round()
is the nearest integer to its argument.</p>
<p>The ramp(x,y) function uses the current timestep to generate a value
linearly interpolated between the specified x,y values over the course
of a run, according to this formula:</p>
<pre class="literal-block">value = x + (y-x) * (timestep-startstep) / (stopstep-startstep)</pre>
<p>The run begins on startstep and ends on stopstep.  Startstep and
stopstep can span multiple runs, using the <em>start</em> and <em>stop</em> keywords
of the <a class="reference internal" href="run.html"><span class="doc">run</span></a> command.  See the <a class="reference internal" href="run.html"><span class="doc">run</span></a> command for
details of how to do this.</p>
<p>The stagger(x,y) function uses the current timestep to generate a new
timestep.  X,y &gt; 0 and x &gt; y are required.  The generated timesteps
increase in a staggered fashion, as the sequence
x,x+y,2x,2x+y,3x,3x+y,etc.  For any current timestep, the next
timestep in the sequence is returned.  Thus if stagger(1000,100) is
used in a variable by the <a class="reference internal" href="dump_modify.html"><span class="doc">dump_modify every</span></a>
command, it will generate the sequence of output timesteps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1100</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2100</span><span class="p">,</span><span class="mi">3000</span><span class="p">,</span><span class="n">etc</span>
</pre></div>
</div>
<p>The logfreq(x,y,z) function uses the current timestep to generate a
new timestep.  X,y,z &gt; 0 and y &lt; z are required.  The generated
timesteps increase in a logarithmic fashion, as the sequence
x,2x,3x,…y*x,z*x,2*z*x,3*z*x,…y*z*x,z*z*x,2*z*x*x,etc.  For any
current timestep, the next timestep in the sequence is returned.  Thus
if logfreq(100,4,10) is used in a variable by the <a class="reference internal" href="dump_modify.html"><span class="doc">dump_modify every</span></a> command, it will generate this sequence of
output timesteps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">3000</span><span class="p">,</span><span class="mi">4000</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">20000</span><span class="p">,</span><span class="n">etc</span>
</pre></div>
</div>
<p>The stride(x,y,z) function uses the current timestep to generate a new
timestep.  X,y &gt;= 0 and z &gt; 0 and x &lt;= y are required.  The generated
timesteps increase in increments of z, from x to y, i.e. it generates
the sequence x,x+z,x+2z,…,y.  If y-x is not a multiple of z, then
similar to the way a for loop operates, the last value will be one
that does not exceed y.  For any current timestep, the next timestep
in the sequence is returned.  Thus if stagger(1000,2000,100) is used
in a variable by the <a class="reference internal" href="dump_modify.html"><span class="doc">dump_modify every</span></a> command, it
will generate the sequence of output timesteps:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1000</span><span class="p">,</span><span class="mi">1100</span><span class="p">,</span><span class="mi">1200</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span><span class="mi">1900</span><span class="p">,</span><span class="mi">2000</span>
</pre></div>
</div>
<p>The vdisplace(x,y) function takes 2 arguments: x = value0 and y =
velocity, and uses the elapsed time to change the value by a linear
displacement due to the applied velocity over the course of a run,
according to this formula:</p>
<pre class="literal-block">value = value0 + velocity*(timestep-startstep)*dt</pre>
<p>where dt = the timestep size.</p>
<p>The run begins on startstep.  Startstep can span multiple runs, using
the <em>start</em> keyword of the <a class="reference internal" href="run.html"><span class="doc">run</span></a> command.  See the
<a class="reference internal" href="run.html"><span class="doc">run</span></a> command for details of how to do this.  Note that the
<a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a> keyword elaplong =
timestep-startstep.</p>
<p>The swiggle(x,y,z) and cwiggle(x,y,z) functions each take 3 arguments:
x = value0, y = amplitude, z = period.  They use the elapsed time to
oscillate the value by a sin() or cos() function over the course of a
run, according to one of these formulas, where omega = 2 PI / period:</p>
<pre class="literal-block">value = value0 + Amplitude * sin(omega*(timestep-startstep)*dt)
value = value0 + Amplitude * (1 - cos(omega*(timestep-startstep)*dt))</pre>
<p>where dt = the timestep size.</p>
<p>The run begins on startstep.  Startstep can span multiple runs, using
the <em>start</em> keyword of the <a class="reference internal" href="run.html"><span class="doc">run</span></a> command.  See the
<a class="reference internal" href="run.html"><span class="doc">run</span></a> command for details of how to do this.  Note that the
<a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a> keyword elaplong =
timestep-startstep.</p>
</section>
<hr class="docutils" />
<section id="group-and-region-functions">
<h3>Group and Region Functions<a class="headerlink" href="#group-and-region-functions" title="Permalink to this heading">¶</a></h3>
<p>Group functions are specified as keywords followed by one or two
parenthesized arguments.  The first argument is the group-ID.  The
<em>dim</em> argument, if it exists, is <em>x</em> or <em>y</em> or <em>z</em>.  The <em>dir</em>
argument, if it exists, is <em>xmin</em>, <em>xmax</em>, <em>ymin</em>, <em>ymax</em>, <em>zmin</em>, or
<em>zmax</em>.  The <em>dimdim</em> argument, if it exists, is <em>xx</em> or <em>yy</em> or <em>zz</em>
or <em>xy</em> or <em>yz</em> or <em>xz</em>.</p>
<p>The group function count() is the number of atoms in the group.  The
group functions mass() and charge() are the total mass and charge of
the group.  Xcm() and vcm() return components of the position and
velocity of the center of mass of the group.  Fcm() returns a
component of the total force on the group of atoms.  Bound() returns
the min/max of a particular coordinate for all atoms in the group. BoundID()
gives the ID of the particle with the smallest/largest x/y/z coordinate.
Similarly, IDbound() returns the min/max atom ID in the group.
Gyration() computes the radius-of-gyration of the group of atoms.  See
the <a class="reference internal" href="compute_gyration.html"><span class="doc">compute gyration</span></a> command for a definition
of the formula.  Angmom() returns components of the angular momentum
of the group of atoms around its center of mass.  Torque() returns
components of the torque on the group of atoms around its center of
mass, based on current forces on the atoms.  Inertia() returns one of
6 components of the symmetric inertia tensor of the group of atoms
around its center of mass, ordered as Ixx,Iyy,Izz,Ixy,Iyz,Ixz.
Omega() returns components of the angular velocity of the group of
atoms around its center of mass.</p>
<p>Region functions are specified exactly the same way as group functions
except they take an extra argument which is the region ID.  The
function is computed for all atoms that are in both the group and the
region.  If the group is “all”, then the only criteria for atom
inclusion is that it be in the region.</p>
</section>
<hr class="docutils" />
<section id="special-functions">
<h3>Special Functions<a class="headerlink" href="#special-functions" title="Permalink to this heading">¶</a></h3>
<p>Special functions take specific kinds of arguments, meaning their
arguments cannot be formulas themselves.</p>
<p>The sum(x), min(x), max(x), ave(x), and trap(x) functions each take 1
argument which is of the form “c_ID” or “c_ID[N]” or “f_ID” or
“f_ID[N]”.  The first two are computes and the second two are fixes;
the ID in the reference should be replaced by the ID of a compute or
fix defined elsewhere in the input script.  The compute or fix must
produce either a global vector or array.  If it produces a global
vector, then the notation without “[N]” should be used.  If it
produces a global array, then the notation with “[N]” should be
used, when N is an integer, to specify which column of the global
array is being referenced.</p>
<p>These functions operate on a global vector of inputs and reduce it to
a single scalar value.  This is analogous to the operation of the
<a class="reference internal" href="compute_reduce.html"><span class="doc">compute reduce</span></a> command, which performs similar
operations on per-atom and local vectors.</p>
<p>The sum() function calculates the sum of all the vector elements.  The
min() and max() functions find the minimum and maximum element
respectively.  The ave() function is the same as sum() except that it
divides the result by the length of the vector.  The trap() function
is the same as sum() except the first and last elements are multiplied
by a weighting factor of 1/2 when performing the sum.  This
effectively implements an integration via the trapezoidal rule on the
global vector of data.  I.e. consider a set of points, equally spaced
by 1 in their x coordinate: (1,V1), (2,V2), …, (N,VN), where the Vi
are the values in the global vector of length N.  The integral from 1
to N of these points is trap().  When appropriately normalized by the
timestep size, this function is useful for calculating integrals of
time-series data, like that generated by the <a class="reference internal" href="fix_ave_correlate.html"><span class="doc">fix ave/correlate</span></a> command.</p>
<p>The gmask(x) function takes 1 argument which is a group ID.  It
can only be used in atom-style variables.  It returns a 1 for
atoms that are in the group, and a 0 for atoms that are not.</p>
<p>The rmask(x) function takes 1 argument which is a region ID.  It can
only be used in atom-style variables.  It returns a 1 for atoms that
are in the geometric region, and a 0 for atoms that are not.</p>
<p>The grmask(x,y) function takes 2 arguments.  The first is a group ID,
and the second is a region ID.  It can only be used in atom-style
variables.  It returns a 1 for atoms that are in both the group and
region, and a 0 for atoms that are not in both.</p>
<p>The next(x) function takes 1 argument which is a variable ID (not
“v_foo”, just “foo”).  It must be for a file-style or atomfile-style
variable.  Each time the next() function is invoked (i.e. each time
the equal-style or atom-style variable is evaluated), the following
steps occur.</p>
<p>For file-style variables, the current string value stored by the
file-style variable is converted to a numeric value and returned by
the function.  And the next string value in the file is read and
stored.  Note that if the line previously read from the file was not a
numeric string, then it will typically evaluate to 0.0, which is
likely not what you want.</p>
<p>For atomfile-style variables, the current per-atom values stored by
the atomfile-style variable are returned by the function.  And the
next set of per-atom values in the file is read and stored.</p>
<p>Since file-style and atomfile-style variables read and store the first
line of the file or first set of per-atoms values when they are
defined in the input script, these are the value(s) that will be
returned the first time the next() function is invoked.  If next() is
invoked more times than there are lines or sets of lines in the file,
the variable is deleted, similar to how the <a class="reference internal" href="next.html"><span class="doc">next</span></a> command
operates.</p>
</section>
<hr class="docutils" />
<section id="atom-values-and-vectors">
<h3>Atom Values and Vectors<a class="headerlink" href="#atom-values-and-vectors" title="Permalink to this heading">¶</a></h3>
<p>Atom values take a single integer argument I from 1 to N, where I is
the an atom-ID, e.g. x[243], which means use the x coordinate of the
atom with ID = 243.</p>
<p>Atom vectors generate one value per atom, so that a reference like
“vx” means the x-component of each atom’s velocity will be used when
evaluating the variable.  Note that other atom attributes can be used
as inputs to a variable by using the <a class="reference internal" href="compute_property_atom.html"><span class="doc">compute property/atom</span></a> command and then specifying
a quantity from that compute.</p>
</section>
<hr class="docutils" />
<section id="compute-references">
<h3>Compute References<a class="headerlink" href="#compute-references" title="Permalink to this heading">¶</a></h3>
<p>Compute references access quantities calculated by a
<a class="reference internal" href="compute.html"><span class="doc">compute</span></a>.  The ID in the reference should be replaced by
the ID of a compute defined elsewhere in the input script.  As
discussed in the doc page for the <a class="reference internal" href="compute.html"><span class="doc">compute</span></a> command,
computes can produce global, per-atom, or local values.  Only global
and per-atom values can be used in a variable.  Computes can also
produce a scalar, vector, or array.  An equal-style variable can only
use scalar values, which means a global scalar, or an element of a
global or per-atom vector or array.  Atom-style variables can use the
same scalar values.  They can also use per-atom vector values.  A
vector value can be a per-atom vector itself, or a column of an
per-atom array.  See the doc pages for individual computes to see what
kind of values they produce.</p>
<p>Examples of different kinds of compute references are as follows.
There is no ambiguity as to what a reference means, since computes
only produce global or per-atom quantities, never both.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>c_ID</p></td>
<td><p>global scalar, or per-atom vector</p></td>
</tr>
<tr class="row-even"><td><p>c_ID[I]</p></td>
<td><p>Ith element of global vector, or atom I’s value in per-atom vector, or Ith column from per-atom array</p></td>
</tr>
<tr class="row-odd"><td><p>c_ID[I][J]</p></td>
<td><p>I,J element of global array, or atom I’s Jth value in per-atom array</p></td>
</tr>
</tbody>
</table>
<p>Note that if a variable containing a compute is evaluated directly in
an input script (not during a run), then the values accessed by the
compute must be current.  See the discussion below about “Variable
Accuracy”.</p>
</section>
<hr class="docutils" />
<section id="fix-references">
<h3>Fix References<a class="headerlink" href="#fix-references" title="Permalink to this heading">¶</a></h3>
<p>Fix references access quantities calculated by a <a class="reference internal" href="compute.html"><span class="doc">fix</span></a>.
The ID in the reference should be replaced by the ID of a fix defined
elsewhere in the input script.  As discussed in the doc page for the
<a class="reference internal" href="fix.html"><span class="doc">fix</span></a> command, fixes can produce global, per-atom, or local
values.  Only global and per-atom values can be used in a variable.
Fixes can also produce a scalar, vector, or array.  An equal-style
variable can only use scalar values, which means a global scalar, or
an element of a global or per-atom vector or array.  Atom-style
variables can use the same scalar values.  They can also use per-atom
vector values.  A vector value can be a per-atom vector itself, or a
column of an per-atom array.  See the doc pages for individual fixes
to see what kind of values they produce.</p>
<p>The different kinds of fix references are exactly the same as the
compute references listed in the above table, where “c_” is replaced
by “f_”.  Again, there is no ambiguity as to what a reference means,
since fixes only produce global or per-atom quantities, never both.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>f_ID</p></td>
<td><p>global scalar, or per-atom vector</p></td>
</tr>
<tr class="row-even"><td><p>f_ID[I]</p></td>
<td><p>Ith element of global vector, or atom I’s value in per-atom vector, or Ith column from per-atom array</p></td>
</tr>
<tr class="row-odd"><td><p>f_ID[I][J]</p></td>
<td><p>I,J element of global array, or atom I’s Jth value in per-atom array</p></td>
</tr>
</tbody>
</table>
<p>Note that if a variable containing a fix is evaluated directly in an
input script (not during a run), then the values accessed by the fix
should be current.  See the discussion below about “Variable
Accuracy”.</p>
<p>Note that some fixes only generate quantities on certain timesteps.
If a variable attempts to access the fix on non-allowed timesteps, an
error is generated.  For example, the <a class="reference internal" href="fix_ave_time.html"><span class="doc">fix ave/time</span></a>
command may only generate averaged quantities every 100 steps.  See
the doc pages for individual fix commands for details.</p>
</section>
<hr class="docutils" />
<section id="variable-references">
<h3>Variable References<a class="headerlink" href="#variable-references" title="Permalink to this heading">¶</a></h3>
<p>Variable references access quantities stored or calculated by other
variables, which will cause those variables to be evaluated.  The name
in the reference should be replaced by the name of a variable defined
elsewhere in the input script.</p>
<p>As discussed on this doc page, equal-style variables generate a global
scalar numeric value; atom-style and atomfile-style variables generate
a per-atom vector of numeric values; all other variables store a
string.  The formula for an equal-style variable can use any style of
variable except an atom-style or atomfile-style (unless only a single
value from the variable is accessed via a subscript).  If a
string-storing variable is used, the string is converted to a numeric
value.  Note that this will typically produce a 0.0 if the string is
not a numeric string, which is likely not what you want.  The formula
for an atom-style variable can use any style of variable, including
other atom-style or atomfile-style variables.</p>
<p>Examples of different kinds of variable references are as follows.
There is no ambiguity as to what a reference means, since variables
produce only a global scalar or a per-atom vector, never both.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>v_name</p></td>
<td><p>scalar, or per-atom vector</p></td>
</tr>
<tr class="row-even"><td><p>v_name[I]</p></td>
<td><p>atom I’s value in per-atom vector</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p><strong>Immediate Evaluation of Variables:</strong></p>
<p>There is a difference between referencing a variable with a leading $
sign (e.g. $x or ${abc}) versus with a leading “v_” (e.g. v_x or
v_abc).  The former can be used in any input script command, including
a variable command.  The input script parser evaluates the reference
variable immediately and substitutes its value into the command.  As
explained in <a class="reference internal" href="Section_commands.html#cmd-2"><span class="std std-ref">Section commands 3.2</span></a> for
“Parsing rules”, you can also use un-named “immediate” variables for
this purpose.  An variable reference such as
$((xlo+xhi)/2+sqrt(v_area)) evaluates the string between the
parenthesis as an equal-style variable.</p>
<p>Referencing a variable with a leading “v_” is an optional or required
kind of argument for some commands (e.g. the <a class="reference internal" href="fix_ave_spatial.html"><span class="doc">fix ave/spatial</span></a> or <a class="reference internal" href="dump.html"><span class="doc">dump custom</span></a> or
<a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a> commands) if you wish it to evaluate
a variable periodically during a run.  It can also be used in a
variable formula if you wish to reference a second variable.  The
second variable will be evaluated whenever the first variable is
evaluated.</p>
<p>As an example, suppose you use this command in your input script to
define the variable “v” as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="n">v</span> <span class="n">equal</span> <span class="n">vol</span>
</pre></div>
</div>
<p>before a run where the simulation box size changes.  You might think
this will assign the initial volume to the variable “v”.  That is not
the case.  Rather it assigns a formula which evaluates the volume
(using the thermo_style keyword “vol”) to the variable “v”.  If you
use the variable “v” in some other command like <a class="reference internal" href="fix_ave_time.html"><span class="doc">fix ave/time</span></a> then the current volume of the box will be
evaluated continuously during the run.</p>
<p>If you want to store the initial volume of the system, you can do it
this way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>variable v equal vol
variable v0 equal $v
</pre></div>
</div>
<p>The second command will force “v” to be evaluated (yielding the
initial volume) and assign that value to the variable “v0”.  Thus the
command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">thermo_style</span> <span class="n">custom</span> <span class="n">step</span> <span class="n">v_v</span> <span class="n">v_v0</span>
</pre></div>
</div>
<p>would print out both the current and initial volume periodically
during the run.</p>
<p>Note that it is a mistake to enclose a variable formula in double
quotes if it contains variables preceded by $ signs.  For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="n">vratio</span> <span class="n">equal</span> <span class="s2">&quot;$</span><span class="si">{vfinal}</span><span class="s2">/$</span><span class="si">{v0}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>This is because the quotes prevent variable substitution (see <a class="reference internal" href="Section_commands.html#cmd-2"><span class="std std-ref">this section</span></a> on parsing input script
commands), and thus an error will occur when the formula for “vratio”
is evaluated later.</p>
<hr class="docutils" />
<p><strong>Variable Accuracy:</strong></p>
<p>Obviously, LAMMPS attempts to evaluate variables containing formulas
(<em>equal</em> and <em>atom</em> style variables) accurately whenever the
evaluation is performed.  Depending on what is included in the
formula, this may require invoking a <a class="reference internal" href="compute.html"><span class="doc">compute</span></a>, either
directly or indirectly via a thermo keyword, or accessing a value
previously calculated by a compute, or accessing a value calculated
and stored by a <a class="reference internal" href="fix.html"><span class="doc">fix</span></a>.  If the compute is one that calculates
the pressure or energy of the system, then these quantities need to be
tallied during the evaluation of the interatomic potentials (pair,
bond, etc) on timesteps that the variable will need the values.</p>
<p>LAMMPS keeps track of all of this during a <a class="reference internal" href="run.html"><span class="doc">run</span></a> or <a class="reference internal" href="minimize.html"><span class="doc">energy minimization</span></a>.  An error will be generated if you
attempt to evaluate a variable on timesteps when it cannot produce
accurate values.  For example, if a <a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style custom</span></a> command prints a variable which accesses
values stored by a <a class="reference internal" href="fix_ave_time.html"><span class="doc">fix ave/time</span></a> command and the
timesteps on which thermo output is generated are not multiples of the
averaging frequency used in the fix command, then an error will occur.</p>
<p>An input script can also request variables be evaluated before or
after or in between runs, e.g. by including them in a
<a class="reference internal" href="print.html"><span class="doc">print</span></a> command.  In this case, if a compute is needed to
evaluate a variable (either directly or indirectly), LAMMPS will not
invoke the compute, but it will use a value previously calculated by
the compute, and can do this only if it is current.  Fixes will always
provide a quantity needed by a variable, but the quantity may or may
not be current.  This leads to one of three kinds of behavior:</p>
<p>(1) The variable may be evaluated accurately.  If it contains
references to a compute or fix, and these values were calculated on
the last timestep of a preceding run, then they will be accessed and
used by the variable and the result will be accurate.</p>
<p>(2) LAMMPS may not be able to evaluate the variable and will generate
an error message stating so.  For example, if the variable requires a
quantity from a <a class="reference internal" href="compute.html"><span class="doc">compute</span></a> that is not current, LAMMPS
will generate an error.  This means, for example, that such a variable
cannot be evaluated before the first run has occurred.  Likewise, in
between runs, such a variable cannot be accessed unless it was
evaluated on the last timestep of the preceding run, e.g. by
thermodynamic output.</p>
<p>One way to get around this problem is to perform a 0-timestep run
before using the variable.  For example, these commands</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable</span> <span class="n">t</span> <span class="n">equal</span> <span class="n">temp</span>
<span class="nb">print</span> <span class="s2">&quot;Initial temperature = $t&quot;</span>
<span class="n">run</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>will generate an error if the run is the first run specified in the
input script, because generating a value for the “t” variable requires
a compute for calculating the temperature to be invoked.</p>
<p>However, this sequence of commands would be fine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">run</span> <span class="mi">0</span>
<span class="n">variable</span> <span class="n">t</span> <span class="n">equal</span> <span class="n">temp</span>
<span class="nb">print</span> <span class="s2">&quot;Initial temperature = $t&quot;</span>
<span class="n">run</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>The 0-timestep run initializes and invokes various computes, including
the one for temperature, so that the value it stores is current and
can be accessed by the variable “t” after the run has completed.  Note
that a 0-timestep run does not alter the state of the system, so it
does not change the input state for the 1000-timestep run that
follows.  Also note that the 0-timestep run must actually use and
invoke the compute in question (e.g. via <a class="reference internal" href="thermo_style.html"><span class="doc">thermo</span></a> or
<a class="reference internal" href="dump.html"><span class="doc">dump</span></a> output) in order for it to enable the compute to be
used in a variable after the run.  Thus if you are trying to print a
variable that uses a compute you have defined, you could insure it was
invoked on the last timestep of the preceding run by including it in
thermodynamic output.</p>
<p>Unlike computes, <a class="reference internal" href="fix.html"><span class="doc">fixes</span></a> will never generate an error if
their values are accessed by a variable in between runs.  They always
return some value to the variable.  However, the value may not be what
you expect if the fix has not yet calculated the quantity of interest
or it is not current.  For example, the <a class="reference internal" href="fix_indent.html"><span class="doc">fix indent</span></a>
command stores the force on the indenter.  But this is not computed
until a run is performed.  Thus if a variable attempts to print this
value before the first run, zeroes will be output.  Again, performing
a 0-timestep run before printing the variable has the desired effect.</p>
<p>(3) The variable may be evaluated incorrectly and LAMMPS may have no
way to detect this has occurred.  Consider the following sequence of
commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pair_coeff</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="n">run</span> <span class="mi">1000</span>
<span class="n">pair_coeff</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mf">1.5</span> <span class="mf">1.0</span>
<span class="n">variable</span> <span class="n">e</span> <span class="n">equal</span> <span class="n">pe</span>
<span class="nb">print</span> <span class="s2">&quot;Final potential energy = $e&quot;</span>
</pre></div>
</div>
<p>The first run is performed using one setting for the pairwise
potential defined by the <a class="reference internal" href="pair_style.html"><span class="doc">pair_style</span></a> and
<a class="reference internal" href="pair_coeff.html"><span class="doc">pair_coeff</span></a> commands.  The potential energy is
evaluated on the final timestep and stored by the <a class="reference internal" href="compute_pe.html"><span class="doc">compute pe</span></a> compute (this is done by the
<a class="reference internal" href="thermo_style.html"><span class="doc">thermo_style</span></a> command).  Then a pair coefficient is
changed, altering the potential energy of the system.  When the
potential energy is printed via the “e” variable, LAMMPS will use the
potential energy value stored by the <a class="reference internal" href="compute_pe.html"><span class="doc">compute pe</span></a>
compute, thinking it is current.  There are many other commands which
could alter the state of the system between runs, causing a variable
to evaluate incorrectly.</p>
<p>The solution to this issue is the same as for case (2) above, namely
perform a 0-timestep run before the variable is evaluated to insure
the system is up-to-date.  For example, this sequence of commands
would print a potential energy that reflected the changed pairwise
coefficient:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pair_coeff</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="n">run</span> <span class="mi">1000</span>
<span class="n">pair_coeff</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mf">1.5</span> <span class="mf">1.0</span>
<span class="n">run</span> <span class="mi">0</span>
<span class="n">variable</span> <span class="n">e</span> <span class="n">equal</span> <span class="n">pe</span>
<span class="nb">print</span> <span class="s2">&quot;Final potential energy = $e&quot;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="restrictions">
<h2>Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this heading">¶</a></h2>
<p>Indexing any formula element by global atom ID, such as an atom value,
requires the atom style to use a global mapping in order to look up
the vector indices.  By default, only atom styles with molecular
information create global maps.  The <a class="reference internal" href="atom_modify.html"><span class="doc">atom_modify map</span></a> command can override the default.</p>
<p>All <em>universe</em>- and <em>uloop</em>-style variables defined in an input script
must have the same number of values.</p>
</section>
<section id="related-commands">
<h2>Related commands<a class="headerlink" href="#related-commands" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="next.html"><span class="doc">next</span></a>, <a class="reference internal" href="jump.html"><span class="doc">jump</span></a>, <a class="reference internal" href="include.html"><span class="doc">include</span></a>,
<a class="reference internal" href="temper.html"><span class="doc">temper</span></a>, <a class="reference internal" href="fix_print.html"><span class="doc">fix print</span></a>, <a class="reference internal" href="print.html"><span class="doc">print</span></a></p>
<p><strong>Default:</strong> none</p>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="velocity.html" class="btn btn-neutral float-right" title="velocity command" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="units.html" class="btn btn-neutral" title="units command" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018 JKU Linz, DCS Computing GmbH and Sandia Corporation.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'24.01',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="static/documentation_options.js"></script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>
      <script type="text/javascript" src="static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
      <script type="text/javascript" src="static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>